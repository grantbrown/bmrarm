dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
set.seed(i)
sim_data <- bmrarm:::gen_bmrvarx(N = N_obs, seed = i)
dat <- sim_data$data %>%
select(y2, y3, y_ord, y_ord2, x1, obs_num, pat_idx) %>%
filter(row_number() > 100)
dat$y_ord[sample(1:500, 50)] <- NA
dat$y_ord2[sample(1:500, 50)] <- NA
dat$y3[sample(1:500, 50)] <- NA
table(dat$y_ord2)
i <- i + 1
25 / 500
document()
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
# Proposed Model results --------------------------------------------------
for(i in 60:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
# Proposed Model results --------------------------------------------------
for(i in 101:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 101) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 101:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 101) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
# Proposed Model results --------------------------------------------------
for(i in 101:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 101) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
# Proposed Model results --------------------------------------------------
for(i in 101:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 101) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 101) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
mean(res_eta$cover)
}
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
mean(res_eta$cover)
}
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
# Proposed Model results --------------------------------------------------
for(i in 85:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:10){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
View(res_eta)
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
View(res_eta)
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
mean(res_eta$cover)
mean(res_eta$cover)
0.9276364 * 22
(0.9276364 * 22 - 0.840) / 21
setwd("C:\\Users\\Nick\\Dropbox\\_Thesis\\bmrvar\\long_sims")
source("../run_apps_sims//helper_functions.R")
# Proposed Model results --------------------------------------------------
for(i in 1:125){
mod1 <- readRDS(paste0("Z:\\bmrarm\\bmrvarx_samples\\bmrvarx_sim", i, ".RDS"))
mod <- list()
mod$samps <- mod1$samps$draws
mod$data <- mod1$data
if(i == 1) {
all_res <- all_res_varx(list(mod))
} else {
all_res <- rbind(all_res, all_res_varx(list(mod)))
}
print(i)
res_eta <- sum_res(all_res)
print(mean(res_eta$cover))
}
res_eta <- sum_res(all_res)
mean(res_eta$cover)
View(res_eta)
mod$data$sigma
mod$data$sigma %*% t(mod$data$M)
mod$data$M%*% mod$data$sigma %*% t(mod$data$M)
cov2cor(mod$data$M%*% mod$data$sigma %*% t(mod$data$M))
cov2cor(mod$data$sigma)
res_tri <- bmrvarx(formula = cbind(part_ord, tempr_ord, cmort) ~ df_time,
data = df,  ordinal_outcomes = c("part_ord", "tempr_ord"),
nsim = 5000, burn_in = 1000, seed = 1, max_iter_rej = 10000,
thin = 1)
library(vars)
library(astsa)
library(dplyr)
library(coda)
library(ggplot2)
